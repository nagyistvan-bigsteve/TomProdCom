<div class="offer-page-container">
  <div class="mb-3">
    <app-client-details class="full-width mb-3"></app-client-details>

    <app-selected-product-list
      [isInOverview]="true"
      class="full-width"
    ></app-selected-product-list>
  </div>

  <div class="w-100 d-flex flex-column justify-content-center">
    <div class="d-flex w-100 align-items-center justify-content-evenly mb-3">
      <mat-form-field appearance="outline" class="voucher-input">
        <mat-label>{{ "WORDS.VOUCHER" | translate }}</mat-label>
        <input matInput [(ngModel)]="voucher" />
      </mat-form-field>

      <div class="fs-5">
        {{ "WORDS.TOTAL" | translate }}: {{ totalPrice | currency : "RON" }}
      </div>
    </div>

    <button mat-raised-button color="primary" (click)="confirmOffer()">
      {{ "OVERVIEW_PAGE.BUTTONS.CONFIRM" | translate }}
    </button>
  </div>
</div>

<ng-template #confirmOfferDialog>
  <h2 mat-dialog-title>{{ "OVERVIEW_PAGE.BUTTONS.CONFIRM" | translate }}</h2>
  <mat-dialog-content class="text-center">
    <mat-form-field class="w-100" appearance="outline">
      <mat-label>Write a comment</mat-label>
      <textarea matInput [(ngModel)]="comment"></textarea>
    </mat-form-field>

    <mat-form-field class="w-100" appearance="outline">
      <mat-label>Expected delivery</mat-label>
      <input
        matInput
        [(ngModel)]="expectedDeliveryDate"
        [min]="currentDate"
        [matDatepicker]="picker"
      />
      <mat-datepicker-toggle
        matIconSuffix
        [for]="picker"
      ></mat-datepicker-toggle>
      <mat-datepicker touchUi #picker></mat-datepicker>
    </mat-form-field>
  </mat-dialog-content>

  <mat-dialog-actions>
    <button mat-button [mat-dialog-close]="false">Back</button>
    <button mat-button [mat-dialog-close]="true" cdkFocusInitial>Save</button>
  </mat-dialog-actions>
</ng-template>
